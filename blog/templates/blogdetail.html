{% extends 'base.html' %}
<!--Title page-->
{% block title%}
<title>{{ post.title_tag }}</title>
{% endblock%}

<!--Title page-->
{% block content%}
<h1 class="mt-5 text-center">{{ post.title }}</h1>
<small>By: {{ post.author.first_name }} {{ post.author.last_name }} </small>
<small>Date: {{ post.post_date }}</small>
<br />
<hr />
<br />
<!-- To keep the html tag in the body we add !safe -->
<!-- |safe -->
<img src="{{ post.header_image.url  }}" alt="">
{{ post.body |safe }}
<br />
<a href="{% url 'home' %}" class="btn btn-secondary">Back</a>
<!--Add the Form like_blogpost with the button like-->
<br />
<hr />
<form action="{% url 'like_blogpost' post.pk %}" method="POST">
  {% csrf_token %}
  <!--Check if Like or Unlike based on the context liked-->
  {% if user.is_authenticated %} {% if liked %}
  <button
    type="submit"
    ,
    name="like_post_id"
    ,
    value="{{ post.id }}"
    ,
    class="btn btn-danger btn-sm"
  >
    UnLike - ({{ total_likes }} Likes)
  </button>
  {% else %}
  <button
    type="submit"
    ,
    name="like_post_id"
    ,
    value="{{ post.id }}"
    ,
    class="btn btn-primary btn-sm"
  >
    Like
  </button>
  {% endif %} {% else %}
  <a href="{% url 'login' %}">Login</a> to like {% endif%} - ({{ total_likes }}
  Likes)
</form>
{% endblock%}
